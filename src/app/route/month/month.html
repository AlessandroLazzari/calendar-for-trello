<ion-view title="Month View">
    <ion-nav-buttons side="right">
        <div ng-switch="login">
        <button class="button button-positive" ng-switch-default ng-click="auth()">Login</button>
        <button class="button  button-positive" ng-click="refresh()"  ng-switch-when="true" ng-class="{animate: loading}"><i class="ion-refresh"></i></button>
        <button class="button  button-assertive" ng-switch-when="true" ng-click="logout()">Logout</button>
        </div>
    </ion-nav-buttons>




    <ion-content class="padding month" padding="true">
        <div class="calNav row">
            <div class="col-xs-1">
                <i class="ion-chevron-left" ng-click="move(-1)" ></i>
            </div>
            <div class="col-xs-10 text-center monthName">
                {{date.monthName}}, {{date.year}}
            </div>
            <div class="col-xs-1">
                <i class="ion-chevron-right" ng-click="move(1)"></i>
            </div>
        </div>
<!--
        <div class="filters">
            <div class="row">
                <div class="col-xs-12 col-md-4">Filter</div>
                <div class="col-xs-12 col-md-4">Filter</div>
                <div class="col-xs-12 col-md-4" ng-click="logCards()">Console Log Cards</div>
            </div>
        </div>
-->



        </div>

        <div id="MonthView">
            <div class="day header" ng-repeat="wd in weekdays"><span class="short">{{wd[0]}}</span><span class="long">{{wd[1]}}</span></div>
            <div ng-repeat="day in days | orderBy: 'date':false "
                 class="day"
                 ng-class="{'dayOff': day.dayOff, 'dayOn' : !day.dayOff, 'has' : day.cards.length >= 1}"
                 ng-drop="true"
                 ng-drop-success="onDropComplete($data,$event, $index, day.date)">
                <div class="dayCounter" ><span class="weekday">{{day.weekday}}</span><span>{{day.i}}</span></div>
                <div class="dayCards">
                    <div ng-repeat="card in day.cards | orderBy:['badges.due', 'name'] ">

                        <div class="dayCard"
                             ng-drag="true" ng-drag-data="card"
                             ng-drag-success="onDragSuccess($data,$event,$parent.$index)"
                             ng-center-anchor="{{centerAnchor}}"
                             ng-class="{waiting: card.waiting}">

                            <div class="ion-arrow-move dragger"></div>

                            <div class="title" ng-click="$event.stopPropagation(); click(card.id)">{{card.name}}</div>
<div class="board">Board: <span ng-click="" class="boardName">{{card.boardName}}</span> | <span>{{card.badges.due | date : "HH:mm" : timezone}}</span></div>


                          <!--  <div class="time">{{card.due}} | {{card.dueDate}} | {{card.badges.due}}</div>-->

                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="dragOptions" ng-show="$root.DragProcess"> <!--ng-show="$root.DragProcess"-->
            <!--<div class="prevMonth option"
                  ng-drop="true"
                  ng-drop-success="changeMonth($data, 'prev', date.month)"
                    >Move Card to {{date.prev[0]}}, {{date.prev[1]}}</div>-->
            <div class="archive option"
                 ng-drop="true"
                 ng-drop-success="archiveCard($data)"
                    >archive card</div>
           <!-- <div class="nextMonth option"
                 ng-drop="true"
                 ng-drop-success="changeMonth($data, 'next', date.month)">
                Move Card to {{date.next[0]}}, {{date.next[1]}}
            </div>-->
        </div>
    </ion-content>
</ion-view>
